# Convert a React App into a React Native App using Expo

Using React Native, you can develop native apps (or games) for Android and Apple devices in a single codebase.

This project demonstrates how to convert an existing React App (a TicTacToe game) into a React Native App using Expo, which is an open-source platform for making universal native apps for Android, iOS, and the web with JavaScript and React.

## 1. Install the Expo Tools

To develop applications with Expo, you need two tools. A command-line application called `Expo CLI` to serve your project, and a mobile client app called `Expo Go` to open the project on iOS and Android platforms. Additionally, you can use any web browser to run the project on the web.  Expo Go can be downloaded from Google Play Store and iOS App Store.

You can install Expo CLI in your React development enrionment as a global npm package:

`npm install --global expo-cli`

To verify the successful installation of CLI, run the following command:

`expo whoami`

If the installation is successful, you will see a "Not logged in" message since you are not logged in to an Expo account yet. You do not need an account to start and can proceed further with your project. However, if you want to register a new expo account, you can go to the Expo website ([https://expo.dev/](https://expo.dev/)) to create an account, or run the command:

`expo register`

## 2. Create a React Native App
You can create an Expo React Native App project using the following command:

`npx create-expo-app my-app`

After the project is created, you can nevigate to the project directory:

`cd my-app`

In this directory, a skeleton of an React Native app including a dummy root component (i.e., `App.js`) has been provided, you may start the server and run the app to check if the project and its development environment have been setup successfully.

## 3. Start the Development Server
You can start a development server using the following command:

`expo start`

The output in the terminal includes a QR code and a URL for you to access the app using the Expo Go app on your mobile device.

## 4. Open the app on Your Phone or Tablet
To open the app, on your iPhone or iPad, open the default Apple "Camera" app and scan the QR code you see in the terminal. On your Android device, press "Scan QR Code" on the "Home" tab of the Expo Go app and scan the QR code you see in the terminal.

## 5. Develop Your App by Modifying the Code Generated by the Project Creation Command
You may copy and then adapt the code of your existing React App code into a React Native App. In this example, the existing `TicTacToeGame.js` and `index.css` are merged into the `App.js` file in the project root directory. To convert your React app into a React Native app, you may keep your program logical structure largely unchanged (e.g. the various flow controls and React hooks used in your React app), and adapt its UI code into the style and components needed by React Native (for it to convert these UI components into the corresponding native UI components in the automatic building process). The UI code adaptation mainly focuses on 
* changing the standard CSS code (e.g. those in `index.css`) to a similar CSS style used by `StyleSheet.create()` utility to create style references (tok, e.g., various of style classes).  As the style properties in the input object of `StyleSheet.create()` use camelCase, you need to replace property name with hypens (e.g., font-size) to camelCase (e.g., fontSize). React Native uses CSS flexbox layout with some default property values slightly differ from those used for web browsers (e.g., flexDirection defaulting to column instead of row); therefore, you may also need to do some adaptation on the overall layout specified using Flexbox (see [https://reactnative.dev/docs/flexbox](https://reactnative.dev/docs/flexbox) for more details). 

* replacing the HTML elements and some basic React UI components to the UI components provided by React Native UI libraries (e.g., replacing `div` with `View`, `p` with `Text`. React Native provides `Touchable components` and its own `Button` component to respond to touch and press events.  Therefore, the square of the game board and the HTML buttons are changed with their corresponding React Native components.  

* replacing your routing and navigation components with the corresponding components provided by React Native libraries (e.g., [React Navigation](https://reactnavigation.org/)).

Initially, you may see some error messages during your code adaptation.  After the errors being corrected, the user interface of the game will appear on your device.

During debugging process, you may run

`expo start --web`

to test the app in your web browser and on the Expo Go app on your mobile device at the same time.  

When you feel satisfied with the app, you may try to further test the app as a real native app on your device and then deploy it to the Google App Store and iOS App Store.

## 6. Create your First Build
Expo Application Services (EAS) are Expo integrated cloud services for building and deploying React Native apps.  It supports you to build (compile the React Native code into real native code) in the cloud, and then upload your app to the Apple App Store or Google Play Store from the cloud.

### 6.1 Install the latest EAS CLI
EAS CLI is a command-line development tool that you will use to interact with EAS services from your terminal. To install it, run the command:

`npm install -g eas-cli`

### 6.2 Log in to your Expo Account
To use the cloud services, you need to login in to your Expo account:

`eas login`

### 6.3 Configure the Project
To configure your project for EAS Build, run the following command:

`eas build:configure`

### 6.4 Run a Build
Before the build process can be started for app stores, you will need to have a store developer account and provide app signing credentials.  If you have both the developer accounts (i.e., Apple Developer Programm membership and Google Play Developer membership), you can build for Android and iOS at the same time:

`eas build --platform all`

If you have not yet got a developer account, you may build an Android Package (APK) to test your app in native code on your Android devices.

### 6.4.1 Build an APK for Android Devices
The file format used in building Android apps with the EAS Build is Android App Bundle (AAB). AAB is optimized for distributing to the Google Play Store, but AABs cannot be installed directly to your device. 

Before proceed to submit your app to the Google App Store, you may build your app in APK format and test it on your own Android devices first. You may do so in the following steps:

### (1) Configuring a Profile 
You can modify the EAS configuration file `eas.json` in your project root directory, i.e., change the output format of the build from the default AAB format to APK format:
```
{
  "build": {
    "preview": {
      "android": {
        "buildType": "apk"
      }
    },
    "preview2": {
      "android": {
        "gradleCommand": ":app:assembleRelease"
      }
    },
    "preview3": {
      "developmentClient": true
    },
    "production": {}
  }
}
```
### (2) Build an APK
You can run the following command to build the APK:

`eas build -p android --profile preview`

### (3) Install and Test your Build
Once your build is completed, copy the URL provided from the terminal when the build is done, then send the URL to your device (e.g., using email), and finally open the URL on your device (i.e., click the link) to start the native app installation.  After the installation, you may run it as any native apps on your mobile devices.







